<!DOCTYPE html>
<html>
	<head>
	<base id="baseURL" href="/" />
<script>
	// Dynamic Base URL
	function getBase(){
		excludedSites = ["127.0.0.1:4000", "www.sunbird.org"];
		baseURL = document.getElementById('baseURL');
		if (excludedSites.indexOf(window.location.host) > -1){
			baseURL.href="/";
		} else {
			baseURL.href="/releases/release.1.41/";
		}
	}
	getBase();
</script>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=10, user-scalable=yes" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-touch-fullscreen" content="yes" />
<link rel="icon" type="image/png" href="img/favicon/favicon-16x16.png" sizes="16x16">
<meta name="msapplication-TileColor" content="#65d3f7">
<meta name="msapplication-TileImage" content="img/favicon/mstile-150x150.png">

<title>Sunbird Procedure to Onboard Organizations</title>
<meta name="description" content="Sunbird Site FIve step procedure to onboard organizations on Sunbird"/>

<meta http-equiv="cache-control" content="max-age=0" />
<meta http-equiv="cache-control" content="no-cache" />
<meta http-equiv="Cache-Control" content="no-store" />
<meta http-equiv="pragma" content="no-cache" />
<meta name="last-modified" content="2018-05-08 18:35:18 +0530">
<meta http-equiv="Expires" content="600" />

<!--Build Details-->
<meta name="buildVersion" content="release.1.41" />
<meta name="buildNo" content="3370" />
<!--/Build Details-->

<!-- CDN's-->
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,600,700" >
<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons" >
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
<script type="text/javascript" src="https://code.jquery.com/jquery-2.1.3.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bodymovin/4.13.0/bodymovin.js" type="text/javascript"></script>
<!-- /CDN's-->

<link rel="stylesheet" href="css/owl/owl.carousel.min.css?08052018"  />
<link rel="stylesheet" href="css/style.css?08052018"  />
<script type="text/javascript" src="js/bootstrap.min.js?08052018"></script>
<script type="text/javascript" src="js/owl.carousel.min.js?08052018"></script>
<script type="text/javascript" src="js/jquery.tocLight.js?08052018"></script>
<script type="text/javascript" src="js/jquery.elevateZoom-3.0.8.min.js?08052018"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-106552125-1"></script>
<script>
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'UA-106552125-1');
</script>

	
		<meta name="robots" content="index, follow">
	
  </head>
  <body id="body" class="doc-layout">
  <div class="container inner container-height docs">
    <header class="logo-container">
      <div class="logo">
        <a href="index.html">
          <img src="img/sunbird-logo.png" alt="Sunbird docs" title="Sunbird docs">
        </a>
      </div>
      <button type="button" class="dropdown-toggle collapsed" id="dropdown-trigger" data-toggle="collapse" data-target="#mobile-dropdown" aria-expanded="false">
        <i class="fa fa-bars" aria-hidden="true"></i>
      </button>
    </header>
    <nav class="sidebar-container" id="mobile-dropdown">
      <div class="inner__sidebar">
        <div id="">
     <div class="search-cover">
	<form method="get" action="https://www.google.com/search" target="_blank">
		<input type="text" value="" name="q" placeholder="Search"/ class="search-input" title="Enter keyword to search">
		<input type="hidden" value="en" name="hl" />
		<input type="hidden" name="sitesearch" value="http://www.sunbird.org" />
		<input type="hidden" value="lang_en" name="lr" />
		<button type="submit" onclick="submit()" class="search-btn" title="Search">
			<i class="fa fa-search"></i>
		</button>
	</form>
</div>
 
    <div class="sidebar-wrapper developer-docs-singlesignon">
        <div class="">
            <a href="architecture/">
                <h4 class="sidebar-group-title">Architecture</h4>
            </a>
            <ul class="sidebar-group architecture">
                <li>
                    <a href="architecture/overview/">Overview</a>
                </li>
                <li>
                    <a href="architecture/design/">Design</a>
                </li>
                <li>
                    <div class="">
                        <a href="architecture/views/elementryview/">Views</a>
                        <ul class="sidebar-group">
                            <li>
                                <a href="architecture/views/logical/">Logical View</a>
                            </li>
                            <li>
                                <a href="architecture/views/physical/">Physical View</a>
                            </li>
                            <li>
                                <a href="architecture/views/conceptual/">Conceptual View</a>
                            </li>
                            <li>
                                <a href="architecture/views/deployment/">Deployment View</a>
                            </li>
                        </ul>
                    </div>
                </li>
                <li>
                    <a href="architecture/usecase/">Use Cases</a>
                </li>
            </ul>
            <a href="features-documentation/">
                <h4 class="sidebar-group-title">Product Features</h4>
            </a>
            <ul class="sidebar-group features-documentation">
                <li>
                    <a href="features-documentation/login/">Sign In</a>
                </li>
                <li>
                    <a href="features-documentation/register_org/">Register Organizations</a>
                </li>
                <li>
                    <a href="features-documentation/register_user/">Register Users</a>
                </li>
                <li>
                    <a href="features-documentation/userrolepermission/">User Roles and Permissions</a>
                </li>
                <li>
                    <div class="">
                        <ul class="sidebar-group">
                            <li>
                                <a href="features-documentation/userrole/">Types of Users</a>
                            </li>
                            <li>
                                <a href="features-documentation/userprofile/">User Profile</a>
                            </li>
                            <li>
                                <a href="features-documentation/workspace/">Workspace</a>
                            </li>
                        </ul>
                    </div>
                </li>
                <li>
                    <a href="features-documentation/admindashboard/">Administrator Dashboard</a>
                </li>
                <li>
                    <a href="features-documentation/lessonplan/">Lesson Plan</a>
                </li>
                <li>
                    <a href="features-documentation/book_creation/">Book</a>
                </li>
                <li>
                    <a href="features-documentation/collection_creation/">Collection</a>
                </li>
                <li>
                    <a href="features-documentation/course_intro/">Courses</a>
                </li>
                <li>
                    <div class="">
                        <ul class="sidebar-group">
                            <li>
                                <a href="features-documentation/course_creation/">Course Creation</a>
                            </li>
                            <li>
                                <a href="features-documentation/course_batches/">Batch Creation</a>
                            </li>
                            <li>
                                <a href="features-documentation/course_consumption/">Course Consumption</a>
                            </li>
                        </ul>
                    </div>
				</li>
			<li>
			     <a href="features-documentation/upload/">Upload Contents</a>
                	</li>	
		    		<li>
                    <div class="">
                        <a href="features-documentation/badging_framework/badging_overview/">Badging Framework</a>
                        <ul class="sidebar-group">
                            <li>	
                                <a href="features-documentation/badging_framework/creating_badges/">Creating Badges</a>
							</li>
							<li>	
                                <a href="features-documentation/badging_framework/badges_users/">Issuing Badges to Users</a>
							</li>
							<li>	
                                <a href="features-documentation/badging_framework/content_badges/">Issuing Badges for Content</a>
                            </li>
                        </ul>
                    </div>
                </li>
                <li>
                    <a href="features-documentation/announcement/">Announcement</a>
                </li>
                <li>
                    <a href="features-documentation/content_review/">Content Review</a>
                </li>
		<li>
                    <a href="features-documentation/library/">Library</a>
                </li>
                <li>
                    <a href="features-documentation/contentlifecycle/">Content Lifecycle</a>
                </li>
                <li>
                    <a href="features-documentation/contenteditor/">Content Editor</a>
                </li>
                <li>
                    <div class="">
                        <a href="features-documentation/guidelines/">Guidelines</a>
                        <ul class="sidebar-group">
                            <li>
                                <a href="features-documentation/intellectualproperty/">Intellectual Property</a>
                            </li>
                        </ul>
                    </div>
                </li>
                <li>
                    <a href="features-documentation/collaborationpartnership/">Collaboration and Partnership</a>
				</li>
				<li>
					<a href="features-documentation/mobileapp/allappfeatures/">Mobile App Features</a>
				</li>
            </ul>
            <a href="usertaskflow/">
				<h4 class="sidebar-group-title">User Task Flows</h4>
			</a>
				<ul class="sidebar-group usertaskflow">
					<li>
						<a href="usertaskflow/how_do_i_create_content/">How do I Create Content</a>
					</li>
						    <li>
								<a href="usertaskflow/how_do_i_add_video/">How do I Add a Video</a>
						    </li>
						    <li>
								<a href="usertaskflow/how_do_i_add_text/">How do I Add Text</a>
						    </li>
						    <li>
								<a href="usertaskflow/how_do_i_add_audio/">How do I Add Audio</a>
						    </li>
						    <li>
								<a href="usertaskflow/how_do_i_add_hotspot/">How do I Add a Hotspot</a>
						    </li>
						    <li>
								<a href="usertaskflow/how_do_i_add_image/">How do I Add an Image</a>
						    </li>
						    <li>
								<a href="usertaskflow/how_do_i_add_shape/">How do I Add Shapes</a>
						    </li>
						    <li>
								<a href="usertaskflow/how_do_i_add_scribblepad/">How do I Add the Scribblepad</a>
						    </li>
						    <li>
								<a href="usertaskflow/how_do_i_add_activity/">How do I Add an Activity</a>
						    </li>
						    <li>
								<a href="usertaskflow/how_do_i_create_course/">How do I Create a Course</a>
						    </li>
						    <li>
								<a href="usertaskflow/how_do_i_create_book/">How do I Create a Book</a>
						    </li>
						    <li>
								<a href="usertaskflow/how_do_i_create_book_with_dial_code/">How do I Add DIAL Codes to a Book</a>
						    </li>
						    <li>
								<a href="usertaskflow/how_do_i_create_lessonplan/">How do I Create a Lesson Plan</a>
						    </li>
						    <li>
								<a href="usertaskflow/how_do_i_create_collection/">How do I Create a Collection</a>
						    </li>
						    <li>
								<a href="usertaskflow/reviewer_taskflow/">How do I Review Content</a>
						    </li>
						    <li>
								<a href="usertaskflow/how_do_i_uploadcontent/">How do I Upload Content</a>
						    </li>
						    <li>
								<a href="usertaskflow/how_do_i_delete_content/">How do I Delete Content</a>
						    </li>
						    <li>
								<a href="usertaskflow/how_do_i_add_metadata/">How do I Add Metadata</a>
						    </li>
						    <li>
								<a href="usertaskflow/how_do_i_add_resource/">How do I Add Resource</a>
						    </li>
						    <li>
								<a href="usertaskflow/limited_sharing/">How do I Share Content to a Limited Group</a>
						    </li>
					    </ul>
            <a href="developer-docs/">
                <h4 class="sidebar-group-title">Developer Documentation</h4>
            </a>
            <ul class="sidebar-group developer-docs">
                <li>
                    <a href="developer-docs/getting_started/">Getting Started with Sunbird</a>
                </li>           
                <li>
                    <div class="">
                        <a href="developer-docs/installation/">Installation</a>
                        <ul class="sidebar-group">
                            <li>
                                <a href="developer-docs/installation/installing_sunbirdon_machine/">Developer Installation</a>
                            </li>
                            <li>
                                <a href="developer-docs/installation/medium_scale_deploy/">Server Installation</a>
                            </li>
                            <li>
                                <a href="developer-docs/installation/install_mobile_setup/">Mobile App Installation</a>
                            </li>
                            <li>
                                <a href="developer-docs/upgrading/">Upgrading Sunbird</a>
                            </li>
                        </ul>
                    </div>
                </li>
		        <li>
                    <div class="">
                        <a href="developer-docs/onboarding/">Onboarding</a>
                        <ul class="sidebar-group">
                            <li>
                                <div class="">
                                    <a href="developer-docs/singlesignon/overview_sso/">Onboarding via Single Sign On</a>
                                    <ul class="sidebar-group">
                                        <li>
                                            <a href="developer-docs/singlesignon/protocol_sso/">Protocol</a>
                                        </li>
                                        <li>
                                            <a href="developer-docs/singlesignon/procedure_sso/">Procedure</a>
                                        </li>
                                        <li>
                                            <a href="developer-docs/singlesignon/org_user_creation_sso/">Creating Organizations and Users</a>
                                        </li>
                                    </ul>
                                </div>
                            </li>
                            <li>
                                <a href="developer-docs/configuring_announcement/">Configuring for Announcements</a>
                            </li>
                        </ul>
                    </div>
                </li>
                <li>
                    <div class="">
                        <a href="developer-docs/telemetry/overview/">Telemetry</a>
                        <ul class="sidebar-group">
                            <li>
                                <a href="developer-docs/telemetry/specification/">Telemetry Specifications</a>
                            </li>
                            <li>
                                <a href="developer-docs/telemetry/sending_telemetry/">Sending Telemetry</a>
                            </li>
                            <li>
                                <div class="">
                                    <ul class="sidebar-group">
                                        <li>
                                            <a href="developer-docs/telemetry/consuming_telemetry/#mobile-app-workflow">Mobile App Workflow</a>
                                        </li>
                                        <li>
                                            <a href="developer-docs/telemetry/consuming_telemetry/#web-portal-workflow">Web Portal Workflow</a>
                                        </li>
                                        <li>
                                            <a href="developer-docs/telemetry/consuming_telemetry/#content-editor-workflow">Content Editor Workflow</a>
                                        </li>
                                        <li>
                                            <a href="developer-docs/telemetry/consuming_telemetry/#backend-services-workflow">Backend-services Workflow</a>
                                        </li>
                                    </ul>
                                </div>
                            </li>
                        </ul>
                    </div>
                </li>
                <li>
                    <div class="">
                        <a href="developer-docs/library_reference/">Library References</a>
                        <ul class="sidebar-group">
                            <li>
                                <a href="developer-docs/telemetry/jslibrary/">Standalone JS Library</a>
                            </li>
                            <li>
                                <a href="developer-docs/telemetry/htmlinterfacelibrary/">HTML Interface Library</a>
                            </li>
                            <li>
                                <a href="developer-docs/telemetry/authtokengenerator_jslibrary/">AuthToken Generator JS Library</a>
                            </li>
                        </ul>
                    </div>
                </li>
                <li>
                    <a href="developer-docs/troubleshooting/">Troubleshooting</a>
                </li>
            </ul>
            <a href="apis/">
				<h4 class="sidebar-group-title">API Reference Documentation</h4>
			</a>
            <ul class="sidebar-group apis">
                <li>
                    <a href="apis/#feature" >Feature</a>
                </li>
                <li>
                    <a href="apis/#admin-apis" >Administration</a>
                </li>
                <li>
                    <a href="apis/#setup-apis" >Setup</a>
                </li>
                <li>
                    <a href="apis/#data-apis" >Data</a>
                </li>
            </ul>
            <a href="contributions/">
                <h4 class="sidebar-group-title">Contribute to Sunbird</h4>
            </a>
            <ul class="sidebar-group contributions">
                <li>
                    <a href="contributions/filing_a_bug/">Guidelines for Filing a Bug</a>
                </li>
                <li>
                    <a href="contributions/contribution_guidelines/">Contributing to Sunbird Documentation</a>
                </li>
            </ul>
            <a href="faqs/">
                <h4 class="sidebar-group-title">Frequently asked questions</h4>
            </a>
            <ul class="sidebar-group faqs">
                <li>
                    <a href="faqs/audience/">Audience</a>
                </li>
                <li>
                    <a href="faqs/content_format/">Content Format</a>
                </li>
                <li>
                    <a href="faqs/content_repo/">Content Repositories</a>
                </li>
                <li>
                    <a href="faqs/contentreviews/">Content Review</a>
                </li>
                <li>
                    <a href="faqs/content_types/">Content Types</a>
                </li>
                <li>
                    <a href="faqs/content_upload/">Content Upload</a>
                </li>
                <li>
                    <a href="faqs/feature/">Features</a>
                </li>
                <li>
                    <a href="faqs/fixerrors/">Fix Errors</a>
                </li>
                <li>
                    <a href="faqs/helpsupport/">Help Support</a>
                </li>
                <li>
                    <a href="faqs/intellectual_propertylicensesstandards/">Intellectual Property Licenses Standards</a>
                </li>
                <li>
                    <a href="faqs/registrationenrolment/">Registration and Enrollment</a>
                </li>
                <li>
                    <a href="faqs/signin/">Sign In</a>
                </li>
                <li>
                    <a href="faqs/taxonomymetadataframework/">Taxonomy Meta Data Framework</a>
                </li>
                <li>
                    <a href="faqs/user_rightspermissions/">Users Rights and Permission</a>
                </li>
            </ul>
            <a href="glossary/">
                <h4 class="sidebar-group-title">Glossary</h4>
            </a>
        </div>
    </div>
</div>
<script>
    $("a[href$='developer-docs/singlesignon/procedure_sso/']").addClass("sidebar-link-selected");
</script>

      </div>
    </nav>
    <div class="content">
      <div class="inner__content header" id="heading">
        <h1>Procedure </h1>
      </div>

      <div id="main-content" class="inner__content">
			<p class="edit-para text-right">
				<span>
			<a target="_blank" class="contribute" href="contributions/contribution_guidelines">
				  <i class="fa fa-book" aria-hidden="true"></i> <i>Contribution Guidelines</i>
			  </a> &nbsp;&nbsp;
			  
			 <a target="_blank"  title="Edit this page"class="" href="https://github.com/project-sunbird/project-sunbird.github.io/edit/dev/pages/developer-docs/singlesignon/procedure_sso.md">
				  <i class="fa fa-pencil-square-o" aria-hidden="true"></i> Edit
			  </a> 
			  | 
			  <a target="_blank" href="https://github.com/project-sunbird/project-sunbird.github.io/issues" title="Report issue">
				  <i class="fa fa-exclamation-circle" aria-hidden="true"></i>
				  Report
			  </a>
			  </span>
			</p>
          <div id="toc-container">
  <table class="toc" id="toc">
    <tbody>
      <tr>
        <td>
          <div id="toctitle">
            <h2>Contents</h2>
            <span class="toctoggle">[<a id="toctogglelink" class="internal" href="#">hide</a>]</span>
          </div>
          <ul>
            <li class="toc_level-1 toc_section-1">
              <a href="#procedure-to-onboard-organizations"><span class="tocnumber">1 .</span> <span class="toctext">Procedure to Onboard Organizations</span></a>
            </li>
            <li class="toc_level-1 toc_section-2">
              <a href="#tokens"><span class="tocnumber">2 .</span> <span class="toctext">Tokens</span></a>
              <ul>
                <li class="toc_level-2 toc_section-3">
                  <a href="#base-url"><span class="tocnumber">2.1 .</span> <span class="toctext">Base URL</span></a>
                </li>
                <li class="toc_level-2 toc_section-4">
                  <a href="#signature"><span class="tocnumber">2.2 .</span> <span class="toctext">Signature</span></a>
                </li>
              </ul>
            </li>
            <li class="toc_level-1 toc_section-5">
              <a href="#onboarding-new-tenant-organization-on-sunbird"><span class="tocnumber">3 .</span> <span class="toctext">Onboarding New Tenant Organization on Sunbird</span></a>
            </li>
            <li class="toc_level-1 toc_section-6">
              <a href="#generating-rsa-private-and-public-key-pair"><span class="tocnumber">4 .</span> <span class="toctext">Generating RSA Private and Public Key Pair</span></a>
            </li>
            <li class="toc_level-1 toc_section-7">
              <a href="#accessing-apis-using-token"><span class="tocnumber">5 .</span> <span class="toctext">Accessing APIs Using Token</span></a>
            </li>
            <li class="toc_level-1 toc_section-8">
              <a href="#custom-homepage-and-logo-for-tenants"><span class="tocnumber">6 .</span> <span class="toctext">Custom Homepage and Logo for Tenants</span></a>
            </li>
            <li class="toc_level-1 toc_section-9">
              <a href="#sign-in-link-from-custom-home-page"><span class="tocnumber">7 .</span> <span class="toctext">Sign In link from Custom Home Page</span></a>
            </li>
          </ul>
        </td>
      </tr>
    </tbody>
  </table>
</div><h2 id="procedure-to-onboard-organizations">Procedure to Onboard Organizations</h2>

<div>
<table class="auto">
<thead>
<tr>
	<th>Step</th>
	<th>Instruction</th>
</tr>
</thead>
<tbody>
<tr>
	<td>1.</td>
	<td>Create a tenant organization </td>
</tr>
<tr>
	<td>2.</td>
	<td>Generate the RSA private and public key pair </td>
</tr>
<tr>
	<td>3.</td>
	<td>Get the public key registered in production </td>
</tr>
<tr>
	<td>4.</td>
	<td>Create organizations, and users, and register</td>
</tr>
<tr>
	<td>5.</td>
	<td>Single Sign-On with Sunbird</td>
</tr>
</tbody>
</table>


</div>

<h2 id="tokens">Tokens</h2>

<p>Tokens are used to authenticate users across Sunbird instances, networks or applications via SSO (Single Sign-on). The JWT provided to the auto-login endpoint must contain the following fields (also known as claims) in its payload.</p>

<ul>
  <li>
    <p><strong>jti:</strong> a unique ID of the token. This can be any unique string generated by the sender</p>
  </li>
  <li>
    <p><strong>iss:</strong> the issuer of the JWT. This must be the ID of the registered client</p>
  </li>
  <li>
    <p><strong>sub:</strong> the subject of the token. This must be the user ID of the person who is signed  in</p>
  </li>
  <li>
    <p><strong>aud:</strong> the consumer of the token. This is the site or instance address. For example; in case of the DIKSHA platform, currently it is <a href="https://www.ntp.in">https://www.ntp.in</a></p>
  </li>
  <li>
    <p><strong>nbf:</strong> not before. This indicates the earliest time when the token can be used. It is expressed as the number of seconds since epoch in GMT. The nbf time cannot be in the future</p>
  </li>
  <li>
    <p><strong>exp:</strong> expires. The timestamp when the token expires. It is expressed as the number of seconds since epoch in GMT. The expiry time cannot be more than 600 seconds after the nbf time.</p>
  </li>
  <li>
    <p><strong>name:</strong> The name of the person whose user ID is in the subject</p>
  </li>
  <li>
    <p><strong>email:</strong> The email ID of the person whose user ID is in the subject</p>
  </li>
  <li>
    <p><strong>email_verified:</strong> An indicator whether the email ID has been verified. This is important when only verified user email IDs are accepted on an instance. For example; only verified emails are accepted on DIKSHA</p>
  </li>
  <li>
    <p><strong>phone_number:</strong> The 10 digit phone number of the person whose user ID is in the subject. This is an optional field</p>
  </li>
  <li>
    <p><strong>phone_number_verified:</strong> An indicator whether the phone number has been verified. This is important when only verified user phone numbers are accepted on an instance. For example; only verified phone numbers are accepted on DIKSHA. This field is optional</p>
  </li>
  <li>
    <p><strong>redirect_url:</strong> the url of the page where the user should be directed after login</p>
  </li>
</ul>

<p>
  <strong>Sample Payload for Single Sign-On</strong>
</p>

<pre>
  {
  "jti": "261263cd-3a0e-4aee-8faf-6d9d9eb14bb1",

  "iss": "replace with id provided by at registration time",

  "sub": "someuserid",

  "aud": "base_url",

  "iat": 1498556656,

  "exp": 1498560256,

  "name": "Some User",

  "email": "some.user@gmail.com",

  "email_verified": true,

  "phone_number": "+91.9555-999-555",

  "phone_number_verified": true,

  "redirect_uri": "base_url/private/index#!/workspace/content/create"
}
</pre>

<h3 id="base-url">Base URL</h3>

<p>Provide the base URL for for the instances created. For example;</p>

<ul>
  <li>The base url for DIKSHA staging is https://staging.ntp.net.in</li>
  <li>The base url for DIKSHA production is https://diksha.gov.in</li>
</ul>

<h3 id="signature">Signature</h3>

<p>Sign the payload described before sending it to the authentication endpoint. The JWT specification permits signing via HMAC, RSA or ECDSA algorithms. For this authentication end-point, the only permitted algorithm is RSA signing via a private key. The corresponding public key is provided during registration of the client.</p>

<p>
  <em>For details on creating a RSA-signed JWT in Java, refer to <a href="https://connect2id.com/products/nimbus-jose-jwt/examples/jwt-with-rsa-signature">JWT with RSA Signature</a></em>
</p>

<h2 id="onboarding-new-tenant-organization-on-sunbird">Onboarding New Tenant Organization on Sunbird</h2>

<p>Sunbird allows creation and configuration of multiple tenant organizations within a single instance:</p>

<ul>
  <li>
    <p>Every tenant organization has a unique channel; i.e. all the activities by users belonging to that tenant organization are tagged with the tenant’s channel ID. For example, on DIKSHA, activities include content creation, content consumption, etc.</p>
  </li>
  <li>
    <p>Tenant organizations have the option to setup a custom home page and configure the logo to be displayed for users who belong to the tenant</p>
  </li>
  <li>
    <p>Tenant organizations can create multiple sub-organizations and add users to those organizations. For example, on DIKSHA, each state is a tenant on Sunbird and all schools or institutes in that state are created as sub-organizations under that tenant organization.</p>
  </li>
</ul>

<h2 id="generating-rsa-private-and-public-key-pair">Generating RSA Private and Public Key Pair</h2>

<p>To create a new pair of public/private keys, run the following command:</p>

<pre>
{
$ openssl genrsa -out private.pem 2048
}
</pre>

<p>This private key must be kept secret. To generate a public key corresponding to the private key, execute:</p>

<pre>
{
$ openssl rsa -in private.pem -outform PEM -pubout -out public.pem
}
</pre>

<p>On running these commands, the public key is written in <strong>public.pem</strong>, while the private key is written in <strong>private.pem</strong></p>

<h2 id="accessing-apis-using-token">Accessing APIs Using Token</h2>

<p>To access APIs using the token, the generated token should be sent in the Authorization header of the request with the value: bearer <token>. For example; curl request</token></p>

<p>
  <code>curl -H "Authorization: Bearer &lt;token&gt;" https://staging.ntp.net.in/api/echo/hello</code>
</p>

<h2 id="custom-homepage-and-logo-for-tenants">Custom Homepage and Logo for Tenants</h2>

<p>Sunbird allows you to override the default home page and configure a custom home page and logo for each tenant who is onboarded. The tenant organization should provide a package containing the following files to customise the home page and logo:</p>

<ul>
  <li>
    <p>The home page html file - named as <strong>index.html</strong>. All the dependent files, like js, css and images, used by the home page should be within the package and referred using relative paths from the “index.html”.</p>
  </li>
  <li>
    <p>Logo of the tenant - named as <strong>logo.png</strong></p>
  </li>
  <li>
    <p>Tenants also have an option to configure the following:</p>

    <ul>
      <li>
        <p>an icon - to be displayed as browser favicon, named as <strong>favicon.ico</strong></p>
      </li>
      <li>
        <p>a poster image - to be used as a flash screen in the mobile app, named as <strong>poster.png</strong></p>
      </li>
    </ul>
  </li>
</ul>

<p>Place all the files in a single folder, with the same name as the channel value of the tenant organization</p>

<h2 id="sign-in-link-from-custom-home-page">Sign In link from Custom Home Page</h2>

<p>Add the following link at an appropriate place in the custom home page to invoke Sunbird portal login:</p>

<pre>href="/private/index" title="Sign In"&gt;<span>Sign In</span></pre>


          
          <hr />
          
          <p class="edit-para text-right">
			<a target="_blank" href="https://github.com/project-sunbird/project-sunbird.github.io/edit/dev/pages/developer-docs/singlesignon/procedure_sso.md" title="Fix this page">
				<i class="fa fa-pencil-square-o" aria-hidden="true"></i> Edit</a> |
			<a target="_blank" href="https://github.com/project-sunbird/project-sunbird.github.io/issues" title="Report issue">
				<i class="fa fa-exclamation-circle" aria-hidden="true"></i> Report</a>
		  </p>
		  <a href="developer-docs/singlesignon/procedure_sso/#heading" class="scrollup"><i class="fa fa-arrow-circle-up" aria-hidden="true"></i></a>
          
      </div>
    </div>
    <div class="page-footer">
		<footer class="footer">
	<div class="footer__top">
		<div class="container">
			<div class="row">
				
			<div class="col-md-4 col-sm-12">
			</div>
			
			<div class="col-md-2 col-sm-6 ">
				<ul>
					<li><a href="about/">About Sunbird</a></li>
					<li><a href="contact/">Contact Us</a></li>
					<li><a href="privacy-policy/">Privacy Policy</a></li>
				</ul>
			</div>
			
			<div class="col-md-2 col-sm-6 sideline">
				<ul>
					<li><a href="docs/">Documentation</a></li>
					<li><a href="features/">Features</a></li>
				</ul>
			</div>

			<div class="col-md-2 col-sm-12">
			</div>
			
		</div>
	</div>
</footer>
 

	</div>
  </div>
  <script type="text/javascript">
	//TOC Toggle
    $(function() {
        $.toc.clickHideButton();
    });
    //Scroll to top
    $(document).ready(function () {
		$(".content").scroll(function () {
			if ($(this).scrollTop() > 250) {
				$('.scrollup').fadeIn();
			} else {
				$('.scrollup').fadeOut();
			}
		});
	});
	$('#toc a').each(function(){
		var url = this.href.replace(baseURL.href, "");
		this.href = 'developer-docs/singlesignon/procedure_sso/' + url;
    })
	$(".zoomcover").click(function(){
		if (!$(this).hasClass("fullscreen")){
			$(this).addClass("fullscreen");
			$(this).find(".zoom").addClass("enabled").elevateZoom({
				zoomType: "inner",
				cursor  : "crosshair",
				scrollZoom: "true"
			});
		} else {
			$(this).removeClass("fullscreen");
			$(this).find(".zoom").removeClass("enabled");
			$(".zoomContainer").hide();
		}
	});
	$(document).keyup(function(e) {
     if (e.keyCode == 27) { 
		$(".zoomcover").removeClass("fullscreen");
		$(".zoomcover").find(".zoom").removeClass("enabled");
		$(".zoomContainer").hide();
    }
});
  </script>
  <style>
  .zoom:hover{
	cursor:url(img/zoom.png),crosshair;
  }
  .zoomWindowContainer:hover div{
	cursor:url(img/scroll.png),crosshair !important;
	height:15px;
	width:15px;
  }
  </style>
  </body>
</html>
